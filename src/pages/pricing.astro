---
import Layout from '~/layouts/PageLayout.astro';
import HeroText from '~/components/widgets/HeroText.astro';
import Prices from '~/components/widgets/Pricing.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import Steps from '~/components/widgets/Steps.astro';
import Features3 from '~/components/widgets/Features3.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

const metadata = {
  title: 'Tarifs déménagement',
};
---

<Layout metadata={metadata}>
  <HeroText
    tagline="Tarifs"
    title="Des fourchettes claires, en francs suisses"
    subtitle="Les prix varient selon le volume, les accès et les options (emballage, monte-meubles, nettoyage, longue distance)."
  />

  <Prices
    title="Nos repères tarifaires"
    subtitle="Indications pour préparer votre budget. Chaque devis est ajusté après un appel ou une visite."
    prices={[
      {
        title: 'Petit déménagement',
        subtitle: 'Studio / 1 pièce',
        price: '1000–1200',
        period: 'fourchette typique',
        items: [
          { description: 'Camion 20 m³ + 2-3 déménageurs' },
          { description: 'Protection des meubles et matelas' },
          { description: 'Chargement + transport + installation' },
        ],
        callToAction: '<a class="btn btn-primary" href="/contact#form">Demander un devis</a>',
      },
      {
        title: 'Déménagement moyen',
        subtitle: '2–3 pièces',
        price: '1500–2800',
        period: 'fourchette typique',
        items: [
          { description: 'Camion 30 m³ + 3-4 déménageurs' },
          { description: 'Démontage/remontage essentiel' },
          { description: 'Emballage fragile en option' },
        ],
        hasRibbon: true,
        ribbonTitle: 'Le plus demandé',
        callToAction: '<a class="btn btn-primary" href="/contact#form">Réserver ma date</a>',
      },
      {
        title: 'Grand déménagement',
        subtitle: '4 pièces et + / maison',
        price: '3000–8000+',
        period: 'selon volume et accès',
        items: [
          { description: 'Planification d’équipe dédiée' },
          { description: 'Monte-meubles ou double camion si besoin' },
          { description: 'Emballage complet disponible' },
        ],
        callToAction: '<a class="btn btn-primary" href="/contact#form">Fixer une visite</a>',
      },
    ]}
  />

  <Features3
    title="Ce que peut inclure votre devis"
    subtitle="Nous adaptons l’équipe, le camion et les options"
    columns={2}
    items={[
      { title: 'Chef d’équipe dédié', description: 'Un interlocuteur avant et pendant le jour J.', icon: 'tabler:headset' },
      { title: 'Protections complètes', description: 'Housses matelas, couvertures, sangles, chariots et outillage.', icon: 'tabler:box' },
      { title: 'Emballage & déballage', description: 'Cartons, penderies, vaisselle et emballage fragile si demandé.', icon: 'tabler:package' },
      { title: 'Objets lourds', description: 'Pianos, coffres, frigos américains ou armoires massives.', icon: 'tabler:weight' },
      { title: 'Monte-meubles', description: 'Gestion des accès difficiles avec opérateur dédié.', icon: 'tabler:stairs-up' },
      { title: 'Nettoyage de sortie', description: 'Option ménage pour rendre le logement en ordre.', icon: 'tabler:broom' },
    ]}
    classes={{ container: 'max-w-5xl' }}
  />

  <Steps
    title="Comment nous calculons"
    tagline="Processus"
    isReversed={true}
    items={[
      {
        title: '1. Estimation du volume',
        description: 'Visio ou visite selon le projet : meubles, cartons, objets lourds.',
        icon: 'tabler:ruler',
      },
      {
        title: '2. Accès et contraintes',
        description: 'Étages, ascenseurs, parkings, distance à pied, autorisations.',
        icon: 'tabler:map-pin',
      },
      {
        title: '3. Options retenues',
        description: 'Emballage, monte-meubles, nettoyage, stockage ou longue distance.',
        icon: 'tabler:check',
      },
      {
        title: '4. Planning et équipe',
        description: 'Créneau confirmé, chef d’équipe dédié et matériel adapté.',
        icon: 'tabler:calendar-time',
      },
    ]}
  >
    <Fragment slot="image">
      <div class="relative aspect-[3/4] overflow-hidden rounded-xl bg-gradient-to-br from-blue-700 via-slate-900 to-slate-800 p-10 text-white shadow-xl">
        <p class="text-sm uppercase tracking-[0.35em] text-blue-200/80">Transparence</p>
        <p class="mt-6 max-w-xs text-base text-blue-100/90">
          Prix en CHF, TVA incluse, sans frais cachés. Ajustements si le volume diffère le jour J.
        </p>
      </div>
    </Fragment>
  </Steps>

  <FAQs
    title="Questions sur les tarifs"
    subtitle="Des réponses claires avant d’accepter notre devis."
    items={[
      { title: 'Le prix est-il fixe ?', description: 'Oui après validation du devis. Seuls les volumes ou options ajoutées le jour J peuvent ajuster le montant.' },
      { title: 'Proposez-vous des visites ?', description: 'Pour les volumes moyens/grands, nous planifions une visio ou une visite sur place.' },
      { title: 'Quid des péages/autoroutes ?', description: 'Inclus dans le devis. Pour les trajets internationaux, nous détaillons les coûts éventuels.' },
      { title: 'Pouvez-vous stocker mes affaires ?', description: 'Oui, nous proposons une solution de stockage courte durée sur demande.' },
      { title: 'Acceptez-vous les déménagements urgents ?', description: 'Selon disponibilités, nous pouvons mobiliser une équipe sous 72h.' },
    ]}
  />

  <CallToAction
    actions={[
      { variant: 'primary', text: 'Recevoir un devis', href: '/contact#form', icon: 'tabler:mail-forward' },
      { text: 'Parler à un conseiller', href: '/contact' },
    ]}
  >
    <Fragment slot="title">Besoin d’un chiffrage précis ?</Fragment>
    <Fragment slot="subtitle">
      Indiquez vos adresses, le volume estimé et la date souhaitée : nous envoyons une proposition claire sous 24h.
    </Fragment>
  </CallToAction>
</Layout>
